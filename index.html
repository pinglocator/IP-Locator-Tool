<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>IP Locator</title>

<style>
@import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600&display=swap');

* { box-sizing: border-box; }

body {
  margin: 0;
  height: 100vh;
  background: #050505;
  display: flex;
  align-items: center;
  justify-content: center;
  font-family: Inter, system-ui, sans-serif;
  color: #e5e5e5;
}

.app {
  width: 420px;
  background: #0b0b0b;
  border-radius: 16px;
  padding: 22px;
  box-shadow:
    0 0 0 1px rgba(255,255,255,0.04),
    0 20px 40px rgba(0,0,0,0.6);
}

.header {
  font-size: 1.1em;
  font-weight: 600;
  margin-bottom: 16px;
  color: #ffffff;
}

.input-row {
  display: flex;
  gap: 10px;
}

input {
  flex: 1;
  background: #060606;
  border: 1px solid rgba(255,255,255,0.06);
  border-radius: 10px;
  padding: 12px 14px;
  color: #e5e5e5;
  outline: none;
}

input::placeholder {
  color: #7a7a7a;
}

input:focus {
  border-color: rgba(255,255,255,0.2);
}

button {
  background: #121212;
  border: 1px solid rgba(255,255,255,0.08);
  color: #fff;
  border-radius: 10px;
  padding: 12px 16px;
  cursor: pointer;
}

button:hover {
  background: #181818;
}

.output {
  margin-top: 18px;
  background: #060606;
  border-radius: 12px;
  padding: 14px;
  font-size: 0.9em;
  line-height: 1.6;
  color: #dcdcdc;
  min-height: 120px;
  white-space: pre-wrap;
}

.label {
  color: #9b9b9b;
}
</style>
</head>

<body>
<div class="app">
  <div class="header">IP Locator</div>

  <div class="input-row">
    <input id="ip" placeholder="IPv4 / IPv6 (blank = you)">
    <button onclick="lookup()">Run</button>
  </div>

  <div class="output" id="result">
    <span class="label">Waiting for input…</span>
  </div>
</div>

<script>
function isValidIP(ip) {
  const ipv4 = /^(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)(\.(25[0-5]|2[0-4]\d|1\d\d|[1-9]?\d)){3}$/;
  const ipv6 = /^([0-9a-f]{1,4}:){7}[0-9a-f]{1,4}$/i;
  return ipv4.test(ip) || ipv6.test(ip);
}

async function lookup() {
  const ip = document.getElementById("ip").value.trim();
  const out = document.getElementById("result");

  if (ip && !isValidIP(ip)) {
    out.textContent = "Invalid IP format.";
    return;
  }

  const url = ip
    ? `https://ipwhois.app/json/${ip}`
    : `https://ipwhois.app/json/`;

  out.textContent = "Resolving address…";

  try {
    const res = await fetch(url);
    const data = await res.json();

    if (!data.success) {
      out.textContent = "Lookup failed.";
      return;
    }

    out.textContent =
`IP Address   ${data.ip}
Version      ${data.type}
City         ${data.city}
Region       ${data.region}
Country      ${data.country}
ISP          ${data.isp}
ASN          ${data.asn}
Coordinates  ${data.latitude}, ${data.longitude}`;
  } catch {
    out.textContent = "Network error.";
  }
}
</script>
</body>
</html>